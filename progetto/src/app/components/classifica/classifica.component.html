<section class="box bg-grey">
    <div class="header">
        <div class="container">
            <div class="row flex-column flex-md-row justify-content-center align-items-center">
                <div class="col-12">
                    <div class="title">
                        <span class="sub">C</span>lassifica
                    </div>
                    <div class="content mb-3">
                        Ciao <span class="primary-text">{{currentUser.username}}</span>, come è andato il torneo
                        {{nomeTorneo}} ?
                        <br>
                        Controlla la classifica globale in <span class="primary-text puntatore primary-hover"
                            routerLink="/home">home</span>,
                        avrai superato i tuoi
                        amici?
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<section class="box bg-white">
    <div class="container">
        <div class="row justify-content-center" *ngIf="torneo && recordUtente">
            <div class="col-12 col-md-6">
                <div class="col-12">
                    <div class="content mt-0">
                        <span class="">Per il corpo di mille balene</span>,
                        <span class="res primary-text" *ngIf="recordUtente.posizione <= 3">sei arrivato sul
                            podio!</span>
                        <span class="res primary-text" *ngIf="recordUtente.posizione > 3">hai perso.</span>

                        <br>
                        Sei arrivato {{recordUtente.posizione}}° su {{torneo.iscrizioni}} partecipanti. <br>
                        Hai raccolto {{recordUtente.punteggio}} punti! <i class="fab fa-viacoin"></i>
                    </div>
                </div>
                <div class="col-12 col-lg-8 d-flex justify-content-center mt-5">
                    <div class="podio d-flex flex-row align-items-end" *ngIf="classifica && classifica.length > 0">

                        <div class="d-flex flex-column text-center grafico" data-aos="fade-up" data-aos-delay="300">
                            <div class="punteggio">{{secondo.punteggio}}</div>
                            <div class="nome" *ngIf="secondo.amI">{{currentUser.username}}</div>
                            <div class="nome" *ngIf="!terzo.amI">IA</div>
                        </div>

                        <div class="d-flex flex-column text-center grafico" data-aos="fade-up">
                            <img src="../../../assets/images/crown.png" alt="" class="crown" data-aos="fade-up"
                                data-aos-delay="300">
                            <div class="punteggio">{{primo.punteggio}}</div>
                            <div class="nome" *ngIf="primo.amI">{{currentUser.username}}</div>
                            <div class="nome" *ngIf="!primo.amI">IA</div>
                        </div>

                        <div class="d-flex flex-column text-center grafico" data-aos="fade-up" data-aos-delay="600">
                            <div class="punteggio">{{terzo.punteggio}}</div>
                            <div class="nome" *ngIf="terzo.amI">{{currentUser.username}}</div>
                            <div class="nome" *ngIf="!terzo.amI">IA</div>
                        </div>

                    </div>
                </div>
            </div>
            <div class="col-12 col-md-6 storico mt-5 mt-md-0" data-aos="flip-up">
                <div class="row">
                    <div class="col-12">
                        Storico utente
                    </div>
                    <div class="col-12 d-flex flex-column">

                        <div class="item d-flex align-items-center gap-2 justify-content-between" data-aos="fade-right"
                            data-aos-delay="500" *ngFor="let item of storico; let i = index">
                            <div class="points" [ngStyle]="{'width.px':item.punteggio + 50}">
                                {{item.classifica.punteggio}} pt.
                            </div>
                            <div class="position">
                                {{item.classifica.posizione}}°
                            </div>
                            <div class="torneo">
                                {{item.torneo.nome}} | {{item.torneo.partite}}
                            </div>
                        </div>
                    </div>
                </div>

            </div>

        </div>
    </div>
</section>