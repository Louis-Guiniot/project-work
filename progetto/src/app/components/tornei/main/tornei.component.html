<div class="box">
    <div class="wrapper">
        <div class="grid-cards">
            <div class="item" *ngFor="let torneo of mieiTornei| async">
                <div class="card" (click)="openDetailModal(detailTorneo, torneo.id)">
                    <div class="card-body">
                        <span id="detail-span">{{torneo.nome}}</span>
                        <h6 class="card-subtitle mb-2 text-muted">{{torneo.gioco}} - {{torneo.piattaforma}}</h6>
                        <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p>
                        <p class="card-text">Iscrizioni al momento {{torneo.iscrizioni}} <br> Posti liberi {{torneo.postiLiberi}} <br> Stato {{torneo.stato | uppercase}}</p>
                        <div *ngFor="let utente of utenti | async">
                            <div *ngIf="utente.id == torneo.idCreatore">
                                creato da <span class="text-purple">
                                    {{utente.username}}
                                </span>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
            <!-- <form [formGroup]="filtroGioco">
                <div class="input-group">
                    <div class="input-group-prepend">
                        <span class="input-group-text" id="basic-addon1">
                                <i class="bi bi-search" (click)="torneiFiltrati()"></i>
                        
                        </span>
                        <span class="input-group-text" id="basic-addon1">
                                <i class="bi bi-x" (click)="resetSearch()"></i></span>
                    </div>
                    <select formControlName="gioco" class="form-control">
                        <option selected>scegli il gioco per cui filtrare</option>
                        <ng-container *ngFor="let torneo of mieiTornei | async">
                            <option *ngIf="torneo.idCreatore != idCreatore" value="{{ torneo.gioco }}">
                                {{ torneo.gioco }}
                            </option>
                        </ng-container>
                    </select>
                </div>
            </form>
            <table class="table" *ngIf="!this.filtroGioco.value.gioco">
                <thead>
                    <tr>
                        <th *ngFor="let th of thLabels">{{ th.label }}</th>
                        <th>&nbsp;</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let torneo of mieiTornei | async">
                        <ng-container *ngIf="torneo.idCreatore != idCreatore">
                            <td>{{ torneo.nome }}</td>
                            <td>{{ torneo.gioco }}</td>
                            <td>{{ torneo.piattaforma }}</td>
                            <td>{{ torneo.capienza }}</td>
                            <td>{{ torneo.iscrizioni }}</td>
                            <td>{{ torneo.postiLiberi }}</td>
                            <td>{{ torneo.partite }}</td>
                            <td>{{ torneo.quota }}</td>
                            <td>{{ torneo.stato }}</td>
                            <td (click)="openDetailModal(detailTorneo, torneo.id)" id="td-detail">
                                dettaglio
                            </td>
                        </ng-container>
                    </tr>
                </tbody>
            </table>

            <table class="table" *ngIf="this.filtroGioco.value.gioco">
                <thead>
                    <tr>
                        <th *ngFor="let th of thLabels">{{ th.label }}</th>
                        <th>&nbsp;</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let torneo of torneiF">
                        <ng-container *ngIf="torneo.idCreatore != idCreatore">
                            <td>{{ torneo.nome }}</td>
                            <td>{{ torneo.gioco }}</td>
                            <td>{{ torneo.piattaforma }}</td>
                            <td>{{ torneo.capienza }}</td>
                            <td>{{ torneo.iscrizioni }}</td>
                            <td>{{ torneo.postiLiberi }}</td>
                            <td>{{ torneo.partite }}</td>
                            <td>{{ torneo.quota }}</td>
                            <td>{{ torneo.stato }}</td>
                            <td (click)="openDetailModal(detailTorneo, torneo.id)" id="td-detail">
                                dettaglio
                            </td>
                        </ng-container>
                    </tr>
                </tbody>
            </table>
        </div> -->
        </div>
    </div>

    <ng-template #detailTorneo let-modal>
        <div class="modal-header">
            <h4 class="modal-title">Dettaglio torneo</h4>
            <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
                <span aria-hidden="true">&times;</span>
            </button>
        </div>
        <div *ngFor="let torneo of mieiTornei | async">
            <ng-container *ngIf="torneo.id == idTorneoDaVedere">
                <!-- <div class="modal-body">
                    <div class="row">
                        <div class="col-5 col-bg"></div>
                        <div class="col-7">
                            <div class="modal-header">
                                <span id="detail-span">info generali</span>
                            </div>
                            <div class="modal-body">
                                <div class="row">
                                    <div class="col">
                                        <label id="detail-label">Nome torneo - {{ torneo.nome }}</label>
                                    </div>
                                    <div class="col">
                                        <label id="detail-label">Gioco topic - {{ torneo.gioco }}</label>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col">
                                        <label id="detail-label">Piattaforma - {{ torneo.piattaforma }}</label>
                                    </div>
                                    <div class="col">
                                        <label id="detail-label">Stato - {{ torneo.stato }}</label>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col">
                                        <label id="detail-label">Iscrizioni ora - {{ torneo.iscrizioni }}</label>
                                    </div>
                                    <div class="col">
                                        <label id="detail-label">postiLiberi ora - {{ torneo.postiLiberi }}</label>
                                    </div>
                                </div>
                            </div>

                            <div class="modal-header">
                                <span id="detail-span">Specifiche del torneo</span>
                            </div>
                            <div class="modal-body">
                                <div class="row">
                                    <div class="col">
                                        <label id="detail-label">Capienza max - {{ torneo.capienza }} giocatori</label>
                                    </div>
                                    <div class="col">
                                        <label id="detail-label">N° partite da completare - {{ torneo.partite }}</label>
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="col">
                                        <label id="detail-label">Capienza min - {{ torneo.capienzaMinima }}
                                        giocatori</label>
                                    </div>
                                    <div class="col">
                                        <label id="detail-label">Quota - {{ torneo.quota }}€ a giocatore</label>
                                    </div>
                                </div>
                            </div>

                            <div class="modal-header">
                                <span id="detail-span">premi</span>
                            </div>
                            <div class="modal-body">
                                <div class="row">
                                    <div class="col">
                                        <label id="detail-label">1° premio - {{ torneo.premioPrimo }}</label>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col">
                                        <label id="detail-label">2° premio - {{ torneo.premioSecondo }}</label>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col">
                                        <label id="detail-label">3° premio - {{ torneo.premioTerzo }}</label>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-danger" (click)="modal.close()">esci</button>
                    <button class="btn btn-submit" type="submit" (click)="iscriviti()" [disabled]="torneo.postiLiberi == 0">
            iscriviti
        </button>
                </div> -->

                <div class="card-body">
                    <span id="detail-span">{{torneo.nome}}</span>
                    <h6 class="card-subtitle mb-2 text-muted">{{torneo.gioco}} - {{torneo.piattaforma}}</h6>
                    <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p>
                    <p class="card-text">Iscrizioni al momento {{torneo.iscrizioni}} <br> Posti liberi {{torneo.postiLiberi}} <br> Stato {{torneo.stato | uppercase}}</p>
                    <p class="card-text">
                        <span id="detail-span">info generali</span> <br> Iscrizioni al momento {{torneo.iscrizioni}} <br> Posti liberi {{torneo.postiLiberi}} <br> Stato {{torneo.stato | uppercase}}</p>
                    <button class="btn btn-submit" ngbAutofocus>
                        iscriviti
                    </button>
                </div>
            </ng-container>
        </div>

    </ng-template>